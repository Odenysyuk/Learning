/*
	Copyright (c) 2004-2010, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


window[(typeof (djConfig)!="undefined"&&djConfig.scopeMap&&djConfig.scopeMap[0][1])||"dojo"]._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dijit.layout.StackController"],["require","dijit._Widget"],["require","dijit._Templated"],["require","dijit._Container"],["require","dijit.form.ToggleButton"],["requireLocalization","dijit","common",null,"ROOT,ar,ca,cs,da,de,el,es,fi,fr,he,hu,it,ja,kk,ko,nb,nl,pl,pt,pt-pt,ro,ru,sk,sl,sv,th,tr,zh,zh-tw","ROOT,ar,ca,cs,da,de,el,es,fi,fr,he,hu,it,ja,kk,ko,nb,nl,pl,pt,pt-pt,ro,ru,sk,sl,sv,th,tr,zh,zh-tw"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dijit.layout.StackController"]){_4._hasResource["dijit.layout.StackController"]=true;_4.provide("dijit.layout.StackController");_4.require("dijit._Widget");_4.require("dijit._Templated");_4.require("dijit._Container");_4.require("dijit.form.ToggleButton");_4.declare("dijit.layout.StackController",[_5._Widget,_5._Templated,_5._Container],{templateString:"<span wairole='tablist' dojoAttachEvent='onkeypress' class='dijitStackController'></span>",containerId:"",buttonWidget:"dijit.layout._StackButton",postCreate:function(){_5.setWaiRole(this.domNode,"tablist");this.pane2button={};this.pane2handles={};this.subscribe(this.containerId+"-startup","onStartup");this.subscribe(this.containerId+"-addChild","onAddChild");this.subscribe(this.containerId+"-removeChild","onRemoveChild");this.subscribe(this.containerId+"-selectChild","onSelectChild");this.subscribe(this.containerId+"-containerKeyPress","onContainerKeyPress");},onStartup:function(_7){_4.forEach(_7.children,this.onAddChild,this);if(_7.selected){this.onSelectChild(_7.selected);}},destroy:function(){for(var _8 in this.pane2button){this.onRemoveChild(_5.byId(_8));}this.inherited(arguments);},onAddChild:function(_9,_a){var _b=_4.getObject(this.buttonWidget);var _c=new _b({id:this.id+"_"+_9.id,label:_9.title,dir:_9.dir,lang:_9.lang,showLabel:_9.showTitle,iconClass:_9.iconClass,closeButton:_9.closable,title:_9.tooltip});_5.setWaiState(_c.focusNode,"selected","false");this.pane2handles[_9.id]=[this.connect(_9,"set",function(_d,_e){var _f={title:"label",showTitle:"showLabel",iconClass:"iconClass",closable:"closeButton",tooltip:"title"}[_d];if(_f){_c.set(_f,_e);}}),this.connect(_c,"onClick",_4.hitch(this,"onButtonClick",_9)),this.connect(_c,"onClickCloseButton",_4.hitch(this,"onCloseButtonClick",_9))];this.addChild(_c,_a);this.pane2button[_9.id]=_c;_9.controlButton=_c;if(!this._currentChild){_c.focusNode.setAttribute("tabIndex","0");_5.setWaiState(_c.focusNode,"selected","true");this._currentChild=_9;}if(!this.isLeftToRight()&&_4.isIE&&this._rectifyRtlTabList){this._rectifyRtlTabList();}},onRemoveChild:function(_10){if(this._currentChild===_10){this._currentChild=null;}_4.forEach(this.pane2handles[_10.id],this.disconnect,this);delete this.pane2handles[_10.id];var _11=this.pane2button[_10.id];if(_11){this.removeChild(_11);delete this.pane2button[_10.id];_11.destroy();}delete _10.controlButton;},onSelectChild:function(_12){if(!_12){return;}if(this._currentChild){var _13=this.pane2button[this._currentChild.id];_13.set("checked",false);_5.setWaiState(_13.focusNode,"selected","false");_13.focusNode.setAttribute("tabIndex","-1");}var _14=this.pane2button[_12.id];_14.set("checked",true);_5.setWaiState(_14.focusNode,"selected","true");this._currentChild=_12;_14.focusNode.setAttribute("tabIndex","0");var _15=_5.byId(this.containerId);_5.setWaiState(_15.containerNode,"labelledby",_14.id);},onButtonClick:function(_16){var _17=_5.byId(this.containerId);_17.selectChild(_16);},onCloseButtonClick:function(_18){var _19=_5.byId(this.containerId);_19.closeChild(_18);if(this._currentChild){var b=this.pane2button[this._currentChild.id];if(b){_5.focus(b.focusNode||b.domNode);}}},adjacent:function(_1a){if(!this.isLeftToRight()&&(!this.tabPosition||/top|bottom/.test(this.tabPosition))){_1a=!_1a;}var _1b=this.getChildren();var _1c=_4.indexOf(_1b,this.pane2button[this._currentChild.id]);var _1d=_1a?1:_1b.length-1;return _1b[(_1c+_1d)%_1b.length];},onkeypress:function(e){if(this.disabled||e.altKey){return;}var _1e=null;if(e.ctrlKey||!e._djpage){var k=_4.keys;switch(e.charOrCode){case k.LEFT_ARROW:case k.UP_ARROW:if(!e._djpage){_1e=false;}break;case k.PAGE_UP:if(e.ctrlKey){_1e=false;}break;case k.RIGHT_ARROW:case k.DOWN_ARROW:if(!e._djpage){_1e=true;}break;case k.PAGE_DOWN:if(e.ctrlKey){_1e=true;}break;case k.DELETE:if(this._currentChild.closable){this.onCloseButtonClick(this._currentChild);}_4.stopEvent(e);break;default:if(e.ctrlKey){if(e.charOrCode===k.TAB){this.adjacent(!e.shiftKey).onClick();_4.stopEvent(e);}else{if(e.charOrCode=="w"){if(this._currentChild.closable){this.onCloseButtonClick(this._currentChild);}_4.stopEvent(e);}}}}if(_1e!==null){this.adjacent(_1e).onClick();_4.stopEvent(e);}}},onContainerKeyPress:function(_1f){_1f.e._djpage=_1f.page;this.onkeypress(_1f.e);}});_4.declare("dijit.layout._StackButton",_5.form.ToggleButton,{tabIndex:"-1",postCreate:function(evt){_5.setWaiRole((this.focusNode||this.domNode),"tab");this.inherited(arguments);},onClick:function(evt){_5.focus(this.focusNode);},onClickCloseButton:function(evt){evt.stopPropagation();}});}}};});