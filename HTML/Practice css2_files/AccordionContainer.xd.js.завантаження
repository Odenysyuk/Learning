/*
	Copyright (c) 2004-2010, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


window[(typeof (djConfig)!="undefined"&&djConfig.scopeMap&&djConfig.scopeMap[0][1])||"dojo"]._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dijit.layout.AccordionContainer"],["require","dojo.fx"],["require","dijit._Container"],["require","dijit._Templated"],["require","dijit._CssStateMixin"],["require","dijit.layout.StackContainer"],["require","dijit.layout.ContentPane"],["require","dijit.layout.AccordionPane"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dijit.layout.AccordionContainer"]){_4._hasResource["dijit.layout.AccordionContainer"]=true;_4.provide("dijit.layout.AccordionContainer");_4.require("dojo.fx");_4.require("dijit._Container");_4.require("dijit._Templated");_4.require("dijit._CssStateMixin");_4.require("dijit.layout.StackContainer");_4.require("dijit.layout.ContentPane");_4.require("dijit.layout.AccordionPane");_4.declare("dijit.layout.AccordionContainer",_5.layout.StackContainer,{duration:_5.defaultDuration,buttonWidget:"dijit.layout._AccordionButton",_verticalSpace:0,baseClass:"dijitAccordionContainer",postCreate:function(){this.domNode.style.overflow="hidden";this.inherited(arguments);_5.setWaiRole(this.domNode,"tablist");},startup:function(){if(this._started){return;}this.inherited(arguments);if(this.selectedChildWidget){var _7=this.selectedChildWidget.containerNode.style;_7.display="";_7.overflow="auto";this.selectedChildWidget._wrapperWidget.set("selected",true);}},_getTargetHeight:function(_8){var cs=_4.getComputedStyle(_8);return Math.max(this._verticalSpace-_4._getPadBorderExtents(_8,cs).h-_4._getMarginExtents(_8,cs).h,0);},layout:function(){var _9=this.selectedChildWidget;if(!_9){return;}var _a=_9._wrapperWidget.domNode,_b=_4._getMarginExtents(_a),_c=_4._getPadBorderExtents(_a),_d=this._contentBox;var _e=0;_4.forEach(this.getChildren(),function(_f){if(_f!=_9){_e+=_4.marginBox(_f._wrapperWidget.domNode).h;}});this._verticalSpace=_d.h-_e-_b.h-_c.h-_9._buttonWidget.getTitleHeight();this._containerContentBox={h:this._verticalSpace,w:this._contentBox.w-_b.w-_c.w};if(_9){_9.resize(this._containerContentBox);}},_setupChild:function(_10){_10._wrapperWidget=new _5.layout._AccordionInnerContainer({contentWidget:_10,buttonWidget:this.buttonWidget,id:_10.id+"_wrapper",dir:_10.dir,lang:_10.lang,parent:this});this.inherited(arguments);},addChild:function(_11,_12){if(this._started){_4.place(_11.domNode,this.containerNode,_12);if(!_11._started){_11.startup();}this._setupChild(_11);_4.publish(this.id+"-addChild",[_11,_12]);this.layout();if(!this.selectedChildWidget){this.selectChild(_11);}}else{this.inherited(arguments);}},removeChild:function(_13){_4.place(_13.domNode,_13._wrapperWidget.domNode,"after");_13._wrapperWidget.destroy();delete _13._wrapperWidget;_4.removeClass(_13.domNode,"dijitHidden");this.inherited(arguments);},getChildren:function(){return _4.map(this.inherited(arguments),function(_14){return _14.declaredClass=="dijit.layout._AccordionInnerContainer"?_14.contentWidget:_14;},this);},destroy:function(){_4.forEach(this.getChildren(),function(_15){_15._wrapperWidget.destroy();});this.inherited(arguments);},_transition:function(_16,_17,_18){if(this._inTransition){return;}var _19=[];var _1a=this._verticalSpace;if(_16){_16._wrapperWidget.set("selected",true);this._showChild(_16);if(this.doLayout&&_16.resize){_16.resize(this._containerContentBox);}var _1b=_16.domNode;_4.addClass(_1b,"dijitVisible");_4.removeClass(_1b,"dijitHidden");if(_18){var _1c=_1b.style.overflow;_1b.style.overflow="hidden";_19.push(_4.animateProperty({node:_1b,duration:this.duration,properties:{height:{start:1,end:this._getTargetHeight(_1b)}},onEnd:function(){_1b.style.overflow=_1c;if(_4.isIE){setTimeout(function(){_4.removeClass(_1b.parentNode,"dijitAccordionInnerContainerFocused");setTimeout(function(){_4.addClass(_1b.parentNode,"dijitAccordionInnerContainerFocused");},0);},0);}}}));}}if(_17){_17._wrapperWidget.set("selected",false);var _1d=_17.domNode;if(_18){var _1e=_1d.style.overflow;_1d.style.overflow="hidden";_19.push(_4.animateProperty({node:_1d,duration:this.duration,properties:{height:{start:this._getTargetHeight(_1d),end:1}},onEnd:function(){_4.addClass(_1d,"dijitHidden");_4.removeClass(_1d,"dijitVisible");_1d.style.overflow=_1e;if(_17.onHide){_17.onHide();}}}));}else{_4.addClass(_1d,"dijitHidden");_4.removeClass(_1d,"dijitVisible");if(_17.onHide){_17.onHide();}}}if(_18){this._inTransition=true;var _1f=_4.fx.combine(_19);_1f.onEnd=_4.hitch(this,function(){delete this._inTransition;});_1f.play();}},_onKeyPress:function(e,_20){if(this._inTransition||this.disabled||e.altKey||!(_20||e.ctrlKey)){if(this._inTransition){_4.stopEvent(e);}return;}var k=_4.keys,c=e.charOrCode;if((_20&&(c==k.LEFT_ARROW||c==k.UP_ARROW))||(e.ctrlKey&&c==k.PAGE_UP)){this._adjacent(false)._buttonWidget._onTitleClick();_4.stopEvent(e);}else{if((_20&&(c==k.RIGHT_ARROW||c==k.DOWN_ARROW))||(e.ctrlKey&&(c==k.PAGE_DOWN||c==k.TAB))){this._adjacent(true)._buttonWidget._onTitleClick();_4.stopEvent(e);}}}});_4.declare("dijit.layout._AccordionInnerContainer",[_5._Widget,_5._CssStateMixin],{baseClass:"dijitAccordionInnerContainer",isContainer:true,isLayoutContainer:true,buildRendering:function(){this.domNode=_4.place("<div class='"+this.baseClass+"'>",this.contentWidget.domNode,"after");var _21=this.contentWidget,cls=_4.getObject(this.buttonWidget);this.button=_21._buttonWidget=(new cls({contentWidget:_21,label:_21.title,title:_21.tooltip,dir:_21.dir,lang:_21.lang,iconClass:_21.iconClass,id:_21.id+"_button",parent:this.parent})).placeAt(this.domNode);_4.place(this.contentWidget.domNode,this.domNode);},postCreate:function(){this.inherited(arguments);this.connect(this.contentWidget,"set",function(_22,_23){var _24={title:"label",tooltip:"title",iconClass:"iconClass"}[_22];if(_24){this.button.set(_24,_23);}},this);},_setSelectedAttr:function(_25){this.selected=_25;this.button.set("selected",_25);if(_25){var cw=this.contentWidget;if(cw.onSelected){cw.onSelected();}}},startup:function(){this.contentWidget.startup();},destroy:function(){this.button.destroyRecursive();delete this.contentWidget._buttonWidget;delete this.contentWidget._wrapperWidget;this.inherited(arguments);},destroyDescendants:function(){this.contentWidget.destroyRecursive();}});_4.declare("dijit.layout._AccordionButton",[_5._Widget,_5._Templated,_5._CssStateMixin],{templateString:_4.cache("dijit.layout","templates/AccordionButton.html","<div dojoAttachEvent='onclick:_onTitleClick' class='dijitAccordionTitle'>\n\t<div dojoAttachPoint='titleNode,focusNode' dojoAttachEvent='onkeypress:_onTitleKeyPress'\n\t\t\tclass='dijitAccordionTitleFocus' wairole=\"tab\" waiState=\"expanded-false\"\n\t\t><span class='dijitInline dijitAccordionArrow' waiRole=\"presentation\"></span\n\t\t><span class='arrowTextUp' waiRole=\"presentation\">+</span\n\t\t><span class='arrowTextDown' waiRole=\"presentation\">-</span\n\t\t><img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon\" dojoAttachPoint='iconNode' style=\"vertical-align: middle\" waiRole=\"presentation\"/>\n\t\t<span waiRole=\"presentation\" dojoAttachPoint='titleTextNode' class='dijitAccordionText'></span>\n\t</div>\n</div>\n"),attributeMap:_4.mixin(_4.clone(_5.layout.ContentPane.prototype.attributeMap),{label:{node:"titleTextNode",type:"innerHTML"},title:{node:"titleTextNode",type:"attribute",attribute:"title"},iconClass:{node:"iconNode",type:"class"}}),baseClass:"dijitAccordionTitle",getParent:function(){return this.parent;},postCreate:function(){this.inherited(arguments);_4.setSelectable(this.domNode,false);var _26=_4.attr(this.domNode,"id").replace(" ","_");_4.attr(this.titleTextNode,"id",_26+"_title");_5.setWaiState(this.focusNode,"labelledby",_4.attr(this.titleTextNode,"id"));},getTitleHeight:function(){return _4.marginBox(this.domNode).h;},_onTitleClick:function(){var _27=this.getParent();if(!_27._inTransition){_27.selectChild(this.contentWidget,true);_5.focus(this.focusNode);}},_onTitleKeyPress:function(evt){return this.getParent()._onKeyPress(evt,this.contentWidget);},_setSelectedAttr:function(_28){this.selected=_28;_5.setWaiState(this.focusNode,"expanded",_28);_5.setWaiState(this.focusNode,"selected",_28);this.focusNode.setAttribute("tabIndex",_28?"0":"-1");}});}}};});