/*
	Copyright (c) 2004-2010, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


window[(typeof (djConfig)!="undefined"&&djConfig.scopeMap&&djConfig.scopeMap[0][1])||"dojo"]._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dijit.form._FormWidget"],["require","dojo.window"],["require","dijit._Widget"],["require","dijit._Templated"],["require","dijit._CssStateMixin"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dijit.form._FormWidget"]){_4._hasResource["dijit.form._FormWidget"]=true;_4.provide("dijit.form._FormWidget");_4.require("dojo.window");_4.require("dijit._Widget");_4.require("dijit._Templated");_4.require("dijit._CssStateMixin");_4.declare("dijit.form._FormWidget",[_5._Widget,_5._Templated,_5._CssStateMixin],{name:"",alt:"",value:"",type:"text",tabIndex:"0",disabled:false,intermediateChanges:false,scrollOnFocus:true,attributeMap:_4.delegate(_5._Widget.prototype.attributeMap,{value:"focusNode",id:"focusNode",tabIndex:"focusNode",alt:"focusNode",title:"focusNode"}),postMixInProperties:function(){this.nameAttrSetting=this.name?("name=\""+this.name.replace(/'/g,"&quot;")+"\""):"";this.inherited(arguments);},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onmousedown","_onMouseDown");},_setDisabledAttr:function(_7){this.disabled=_7;_4.attr(this.focusNode,"disabled",_7);if(this.valueNode){_4.attr(this.valueNode,"disabled",_7);}_5.setWaiState(this.focusNode,"disabled",_7);if(_7){this._hovering=false;this._active=false;var _8="tabIndex" in this.attributeMap?this.attributeMap.tabIndex:"focusNode";_4.forEach(_4.isArray(_8)?_8:[_8],function(_9){var _a=this[_9];if(_4.isWebKit||_5.hasDefaultTabStop(_a)){_a.setAttribute("tabIndex","-1");}else{_a.removeAttribute("tabIndex");}},this);}else{this.focusNode.setAttribute("tabIndex",this.tabIndex);}},setDisabled:function(_b){_4.deprecated("setDisabled("+_b+") is deprecated. Use set('disabled',"+_b+") instead.","","2.0");this.set("disabled",_b);},_onFocus:function(e){if(this.scrollOnFocus){_4.window.scrollIntoView(this.domNode);}this.inherited(arguments);},isFocusable:function(){return !this.disabled&&!this.readOnly&&this.focusNode&&(_4.style(this.domNode,"display")!="none");},focus:function(){_5.focus(this.focusNode);},compare:function(_c,_d){if(typeof _c=="number"&&typeof _d=="number"){return (isNaN(_c)&&isNaN(_d))?0:_c-_d;}else{if(_c>_d){return 1;}else{if(_c<_d){return -1;}else{return 0;}}}},onChange:function(_e){},_onChangeActive:false,_handleOnChange:function(_f,_10){this._lastValue=_f;if(this._lastValueReported==undefined&&(_10===null||!this._onChangeActive)){this._resetValue=this._lastValueReported=_f;}if((this.intermediateChanges||_10||_10===undefined)&&((typeof _f!=typeof this._lastValueReported)||this.compare(_f,this._lastValueReported)!=0)){this._lastValueReported=_f;if(this._onChangeActive){if(this._onChangeHandle){clearTimeout(this._onChangeHandle);}this._onChangeHandle=setTimeout(_4.hitch(this,function(){this._onChangeHandle=null;this.onChange(_f);}),0);}}},create:function(){this.inherited(arguments);this._onChangeActive=true;},destroy:function(){if(this._onChangeHandle){clearTimeout(this._onChangeHandle);this.onChange(this._lastValueReported);}this.inherited(arguments);},setValue:function(_11){_4.deprecated("dijit.form._FormWidget:setValue("+_11+") is deprecated.  Use set('value',"+_11+") instead.","","2.0");this.set("value",_11);},getValue:function(){_4.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");return this.get("value");},_onMouseDown:function(e){if(!e.ctrlKey&&this.isFocusable()){var _12=this.connect(_4.body(),"onmouseup",function(){if(this.isFocusable()){this.focus();}this.disconnect(_12);});}}});_4.declare("dijit.form._FormValueWidget",_5.form._FormWidget,{readOnly:false,attributeMap:_4.delegate(_5.form._FormWidget.prototype.attributeMap,{value:"",readOnly:"focusNode"}),_setReadOnlyAttr:function(_13){this.readOnly=_13;_4.attr(this.focusNode,"readOnly",_13);_5.setWaiState(this.focusNode,"readonly",_13);},postCreate:function(){this.inherited(arguments);if(_4.isIE<9||(_4.isIE&&_4.isQuirks)){this.connect(this.focusNode||this.domNode,"onkeydown",this._onKeyDown);}if(this._resetValue===undefined){this._resetValue=this.value;}},_setValueAttr:function(_14,_15){this.value=_14;this._handleOnChange(_14,_15);},_getValueAttr:function(){return this._lastValue;},undo:function(){this._setValueAttr(this._lastValueReported,false);},reset:function(){this._hasBeenBlurred=false;this._setValueAttr(this._resetValue,true);},_onKeyDown:function(e){if(e.keyCode==_4.keys.ESCAPE&&!(e.ctrlKey||e.altKey||e.metaKey)){var te;if(_4.isIE){e.preventDefault();te=document.createEventObject();te.keyCode=_4.keys.ESCAPE;te.shiftKey=e.shiftKey;e.srcElement.fireEvent("onkeypress",te);}}},_layoutHackIE7:function(){if(_4.isIE==7){var _16=this.domNode;var _17=_16.parentNode;var _18=_16.firstChild||_16;var _19=_18.style.filter;var _1a=this;while(_17&&_17.clientHeight==0){(function ping(){var _1b=_1a.connect(_17,"onscroll",function(e){_1a.disconnect(_1b);_18.style.filter=(new Date()).getMilliseconds();setTimeout(function(){_18.style.filter=_19;},0);});})();_17=_17.parentNode;}}}});}}};});