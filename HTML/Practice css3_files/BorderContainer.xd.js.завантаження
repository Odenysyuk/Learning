/*
	Copyright (c) 2004-2010, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


window[(typeof (djConfig)!="undefined"&&djConfig.scopeMap&&djConfig.scopeMap[0][1])||"dojo"]._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dijit.layout.BorderContainer"],["require","dijit.layout._LayoutWidget"],["require","dojo.cookie"],["require","dijit._Templated"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dijit.layout.BorderContainer"]){_4._hasResource["dijit.layout.BorderContainer"]=true;_4.provide("dijit.layout.BorderContainer");_4.require("dijit.layout._LayoutWidget");_4.require("dojo.cookie");_4.declare("dijit.layout.BorderContainer",_5.layout._LayoutWidget,{design:"headline",gutters:true,liveSplitters:true,persist:false,baseClass:"dijitBorderContainer",_splitterClass:"dijit.layout._Splitter",postMixInProperties:function(){if(!this.gutters){this.baseClass+="NoGutter";}this.inherited(arguments);},postCreate:function(){this.inherited(arguments);this._splitters={};this._splitterThickness={};},startup:function(){if(this._started){return;}_4.forEach(this.getChildren(),this._setupChild,this);this.inherited(arguments);},_setupChild:function(_7){var _8=_7.region;if(_8){this.inherited(arguments);_4.addClass(_7.domNode,this.baseClass+"Pane");var _9=this.isLeftToRight();if(_8=="leading"){_8=_9?"left":"right";}if(_8=="trailing"){_8=_9?"right":"left";}this["_"+_8]=_7.domNode;this["_"+_8+"Widget"]=_7;if((_7.splitter||this.gutters)&&!this._splitters[_8]){var _a=_4.getObject(_7.splitter?this._splitterClass:"dijit.layout._Gutter");var _b=new _a({id:_7.id+"_splitter",container:this,child:_7,region:_8,live:this.liveSplitters});_b.isSplitter=true;this._splitters[_8]=_b.domNode;_4.place(this._splitters[_8],_7.domNode,"after");_b.startup();}_7.region=_8;}},_computeSplitterThickness:function(_c){this._splitterThickness[_c]=this._splitterThickness[_c]||_4.marginBox(this._splitters[_c])[(/top|bottom/.test(_c)?"h":"w")];},layout:function(){for(var _d in this._splitters){this._computeSplitterThickness(_d);}this._layoutChildren();},addChild:function(_e,_f){this.inherited(arguments);if(this._started){this.layout();}},removeChild:function(_10){var _11=_10.region;var _12=this._splitters[_11];if(_12){_5.byNode(_12).destroy();delete this._splitters[_11];delete this._splitterThickness[_11];}this.inherited(arguments);delete this["_"+_11];delete this["_"+_11+"Widget"];if(this._started){this._layoutChildren();}_4.removeClass(_10.domNode,this.baseClass+"Pane");},getChildren:function(){return _4.filter(this.inherited(arguments),function(_13){return !_13.isSplitter;});},getSplitter:function(_14){var _15=this._splitters[_14];return _15?_5.byNode(_15):null;},resize:function(_16,_17){if(!this.cs||!this.pe){var _18=this.domNode;this.cs=_4.getComputedStyle(_18);this.pe=_4._getPadExtents(_18,this.cs);this.pe.r=_4._toPixelValue(_18,this.cs.paddingRight);this.pe.b=_4._toPixelValue(_18,this.cs.paddingBottom);_4.style(_18,"padding","0px");}this.inherited(arguments);},_layoutChildren:function(_19,_1a){if(!this._borderBox||!this._borderBox.h){return;}var _1b=(this.design=="sidebar");var _1c=0,_1d=0,_1e=0,_1f=0;var _20={},_21={},_22={},_23={},_24=(this._center&&this._center.style)||{};var _25=/left|right/.test(_19);var _26=!_19||(!_25&&!_1b);var _27=!_19||(_25&&_1b);if(this._top){_20=(_19=="top"||_27)&&this._top.style;_1c=_19=="top"?_1a:_4.marginBox(this._top).h;}if(this._left){_21=(_19=="left"||_26)&&this._left.style;_1e=_19=="left"?_1a:_4.marginBox(this._left).w;}if(this._right){_22=(_19=="right"||_26)&&this._right.style;_1f=_19=="right"?_1a:_4.marginBox(this._right).w;}if(this._bottom){_23=(_19=="bottom"||_27)&&this._bottom.style;_1d=_19=="bottom"?_1a:_4.marginBox(this._bottom).h;}var _28=this._splitters;var _29=_28.top,_2a=_28.bottom,_2b=_28.left,_2c=_28.right;var _2d=this._splitterThickness;var _2e=_2d.top||0,_2f=_2d.left||0,_30=_2d.right||0,_31=_2d.bottom||0;if(_2f>50||_30>50){setTimeout(_4.hitch(this,function(){this._splitterThickness={};for(var _32 in this._splitters){this._computeSplitterThickness(_32);}this._layoutChildren();}),50);return false;}var pe=this.pe;var _33={left:(_1b?_1e+_2f:0)+pe.l+"px",right:(_1b?_1f+_30:0)+pe.r+"px"};if(_29){_4.mixin(_29.style,_33);_29.style.top=_1c+pe.t+"px";}if(_2a){_4.mixin(_2a.style,_33);_2a.style.bottom=_1d+pe.b+"px";}_33={top:(_1b?0:_1c+_2e)+pe.t+"px",bottom:(_1b?0:_1d+_31)+pe.b+"px"};if(_2b){_4.mixin(_2b.style,_33);_2b.style.left=_1e+pe.l+"px";}if(_2c){_4.mixin(_2c.style,_33);_2c.style.right=_1f+pe.r+"px";}_4.mixin(_24,{top:pe.t+_1c+_2e+"px",left:pe.l+_1e+_2f+"px",right:pe.r+_1f+_30+"px",bottom:pe.b+_1d+_31+"px"});var _34={top:_1b?pe.t+"px":_24.top,bottom:_1b?pe.b+"px":_24.bottom};_4.mixin(_21,_34);_4.mixin(_22,_34);_21.left=pe.l+"px";_22.right=pe.r+"px";_20.top=pe.t+"px";_23.bottom=pe.b+"px";if(_1b){_20.left=_23.left=_1e+_2f+pe.l+"px";_20.right=_23.right=_1f+_30+pe.r+"px";}else{_20.left=_23.left=pe.l+"px";_20.right=_23.right=pe.r+"px";}var _35=this._borderBox.h-pe.t-pe.b,_36=_35-(_1c+_2e+_1d+_31),_37=_1b?_35:_36;var _38=this._borderBox.w-pe.l-pe.r,_39=_38-(_1e+_2f+_1f+_30),_3a=_1b?_39:_38;var dim={top:{w:_3a,h:_1c},bottom:{w:_3a,h:_1d},left:{w:_1e,h:_37},right:{w:_1f,h:_37},center:{h:_36,w:_39}};if(_19){var _3b=this["_"+_19+"Widget"],mb={};mb[/top|bottom/.test(_19)?"h":"w"]=_1a;_3b.resize?_3b.resize(mb,dim[_3b.region]):_4.marginBox(_3b.domNode,mb);}var _3c=_4.isIE<8||(_4.isIE&&_4.isQuirks)||_4.some(this.getChildren(),function(_3d){return _3d.domNode.tagName=="TEXTAREA"||_3d.domNode.tagName=="INPUT";});if(_3c){var _3e=function(_3f,_40,_41){if(_3f){(_3f.resize?_3f.resize(_40,_41):_4.marginBox(_3f.domNode,_40));}};if(_2b){_2b.style.height=_37;}if(_2c){_2c.style.height=_37;}_3e(this._leftWidget,{h:_37},dim.left);_3e(this._rightWidget,{h:_37},dim.right);if(_29){_29.style.width=_3a;}if(_2a){_2a.style.width=_3a;}_3e(this._topWidget,{w:_3a},dim.top);_3e(this._bottomWidget,{w:_3a},dim.bottom);_3e(this._centerWidget,dim.center);}else{var _42=!_19||(/top|bottom/.test(_19)&&this.design!="sidebar"),_43=!_19||(/left|right/.test(_19)&&this.design=="sidebar"),_44={center:true,left:_42,right:_42,top:_43,bottom:_43};_4.forEach(this.getChildren(),function(_45){if(_45.resize&&_44[_45.region]){_45.resize(null,dim[_45.region]);}},this);}},destroy:function(){for(var _46 in this._splitters){var _47=this._splitters[_46];_5.byNode(_47).destroy();_4.destroy(_47);}delete this._splitters;delete this._splitterThickness;this.inherited(arguments);}});_4.extend(_5._Widget,{region:"",splitter:false,minSize:0,maxSize:Infinity});_4.require("dijit._Templated");_4.declare("dijit.layout._Splitter",[_5._Widget,_5._Templated],{live:true,templateString:"<div class=\"dijitSplitter\" dojoAttachEvent=\"onkeypress:_onKeyPress,onmousedown:_startDrag,onmouseenter:_onMouse,onmouseleave:_onMouse\" tabIndex=\"0\" waiRole=\"separator\"><div class=\"dijitSplitterThumb\"></div></div>",postCreate:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);_4.addClass(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V"));this._factor=/top|left/.test(this.region)?1:-1;this._cookieName=this.container.id+"_"+this.region;if(this.container.persist){var _48=_4.cookie(this._cookieName);if(_48){this.child.domNode.style[this.horizontal?"height":"width"]=_48;}}},_computeMaxSize:function(){var dim=this.horizontal?"h":"w",_49=this.container._splitterThickness[this.region];var _4a={left:"right",right:"left",top:"bottom",bottom:"top",leading:"trailing",trailing:"leading"},_4b=this.container["_"+_4a[this.region]];var _4c=_4.contentBox(this.container.domNode)[dim]-(_4b?_4.marginBox(_4b)[dim]:0)-20-_49*2;return Math.min(this.child.maxSize,_4c);},_startDrag:function(e){if(!this.cover){this.cover=_4.doc.createElement("div");_4.addClass(this.cover,"dijitSplitterCover");_4.place(this.cover,this.child.domNode,"after");}_4.addClass(this.cover,"dijitSplitterCoverActive");if(this.fake){_4.destroy(this.fake);}if(!(this._resize=this.live)){(this.fake=this.domNode.cloneNode(true)).removeAttribute("id");_4.addClass(this.domNode,"dijitSplitterShadow");_4.place(this.fake,this.domNode,"after");}_4.addClass(this.domNode,"dijitSplitterActive");_4.addClass(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V")+"Active");if(this.fake){_4.removeClass(this.fake,"dijitSplitterHover");_4.removeClass(this.fake,"dijitSplitter"+(this.horizontal?"H":"V")+"Hover");}var _4d=this._factor,max=this._computeMaxSize(),min=this.child.minSize||20,_4e=this.horizontal,_4f=_4e?"pageY":"pageX",_50=e[_4f],_51=this.domNode.style,dim=_4e?"h":"w",_52=_4.marginBox(this.child.domNode)[dim],_53=this.region,_54=parseInt(this.domNode.style[_53],10),_55=this._resize,_56=this.child.domNode,_57=_4.hitch(this.container,this.container._layoutChildren),de=_4.doc;this._handlers=(this._handlers||[]).concat([_4.connect(de,"onmousemove",this._drag=function(e,_58){var _59=e[_4f]-_50,_5a=_4d*_59+_52,_5b=Math.max(Math.min(_5a,max),min);if(_55||_58){_57(_53,_5b);}_51[_53]=_4d*_59+_54+(_5b-_5a)+"px";}),_4.connect(de,"ondragstart",_4.stopEvent),_4.connect(_4.body(),"onselectstart",_4.stopEvent),_4.connect(de,"onmouseup",this,"_stopDrag")]);_4.stopEvent(e);},_onMouse:function(e){var o=(e.type=="mouseover"||e.type=="mouseenter");_4.toggleClass(this.domNode,"dijitSplitterHover",o);_4.toggleClass(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V")+"Hover",o);},_stopDrag:function(e){try{if(this.cover){_4.removeClass(this.cover,"dijitSplitterCoverActive");}if(this.fake){_4.destroy(this.fake);}_4.removeClass(this.domNode,"dijitSplitterActive");_4.removeClass(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V")+"Active");_4.removeClass(this.domNode,"dijitSplitterShadow");this._drag(e);this._drag(e,true);}finally{this._cleanupHandlers();delete this._drag;}if(this.container.persist){_4.cookie(this._cookieName,this.child.domNode.style[this.horizontal?"height":"width"],{expires:365});}},_cleanupHandlers:function(){_4.forEach(this._handlers,_4.disconnect);delete this._handlers;},_onKeyPress:function(e){this._resize=true;var _5c=this.horizontal;var _5d=1;var dk=_4.keys;switch(e.charOrCode){case _5c?dk.UP_ARROW:dk.LEFT_ARROW:_5d*=-1;case _5c?dk.DOWN_ARROW:dk.RIGHT_ARROW:break;default:return;}var _5e=_4.marginBox(this.child.domNode)[_5c?"h":"w"]+this._factor*_5d;this.container._layoutChildren(this.region,Math.max(Math.min(_5e,this._computeMaxSize()),this.child.minSize));_4.stopEvent(e);},destroy:function(){this._cleanupHandlers();delete this.child;delete this.container;delete this.cover;delete this.fake;this.inherited(arguments);}});_4.declare("dijit.layout._Gutter",[_5._Widget,_5._Templated],{templateString:"<div class=\"dijitGutter\" waiRole=\"presentation\"></div>",postCreate:function(){this.horizontal=/top|bottom/.test(this.region);_4.addClass(this.domNode,"dijitGutter"+(this.horizontal?"H":"V"));}});}}};});